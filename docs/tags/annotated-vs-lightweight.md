# ЁЯП╖я╕П `annotated` ржмржирж╛ржо `lightweight` git tag

Git-ржП ржЯрзНржпрж╛ржЧ (tag) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ **ржХржорж┐ржЯржХрзЗ ржЪрж┐рж╣рзНржирж┐ржд** ржХрж░рж╛рж░ ржЬржирзНржпред рж╕рж╛ржзрж╛рж░ржгржд ржЯрзНржпрж╛ржЧ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ **рж░рж┐рж▓рж┐ржЬ** ржмрж╛ **ржорж╛ржЗрж▓рж╕рзНржЯрзЛржи** ржирж┐рж░рзНржзрж╛рж░ржгрзЗрж░ ржЬржирзНржпред

Git-ржП ржжрзБржЯрж┐ ржкрзНрж░ржХрж╛рж░рзЗрж░ ржЯрзНржпрж╛ржЧ рж░рзЯрзЗржЫрзЗ:

1. тЬЕ **Annotated Tag (ржЕрзНржпрж╛ржирзЛржЯрзЗржЯрзЗржб ржЯрзНржпрж╛ржЧ)**
2. тЪб **Lightweight Tag (рж▓рж╛ржЗржЯржУрзЯрзЗржЯ ржЯрзНржпрж╛ржЧ)**


## ЁЯУМ 1. Annotated Tag (ржЕрзНржпрж╛ржирзЛржЯрзЗржЯрзЗржб ржЯрзНржпрж╛ржЧ)

### ЁЯз╛ рж╕ржВржЬрзНржЮрж╛:

ржПржЯрж┐ ржПржХржЯрж┐ ржкрзВрж░рзНржгрж╛ржЩрзНржЧ ржЯрзНржпрж╛ржЧ, ржпрзЗржЦрж╛ржирзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд рждржерзНржп рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХрзЗ:

* ржЯрзНржпрж╛ржЧрзЗрж░ ржирж╛ржо
* ржмрж╛рж░рзНрждрж╛ (message)
* ржЯрзНржпрж╛ржЧ рждрзИрж░рж┐ ржХрж░рж╛ ржмрзНржпржХрзНрждрж┐рж░ ржирж╛ржо ржУ ржЗржорзЗржЗрж▓
* рждрзИрж░рж┐ рж╣ржУрзЯрж╛рж░ рж╕ржорзЯ
* ржЬрж┐ржкрж┐ржЬрж┐ (GPG) рж╕рж┐ржЧржирзЗржЪрж╛рж░ (ржЗржЪрзНржЫрж╛ ржХрж░рж▓рзЗ)

ржПржЯрж┐ ржЖрж╕рж▓рзЗ ржПржХ ржзрж░ржирзЗрж░ **Git ржЕржмржЬрзЗржХрзНржЯ**, ржпрзЗржоржи ржХржорж┐ржЯ ржЕржмржЬрзЗржХрзНржЯ рж╣рзЯред


### ЁЯФз рждрзИрж░рж┐рж░ ржХржорж╛ржирзНржб:

```bash
git tag -a <tag-name> -m "ржмрж╛рж░рзНрждрж╛"
```

### тЬЕ ржЙржжрж╛рж╣рж░ржг:

```bash
git tag -a v1.0 -m "ржкрзНрж░ржержо ржнрж╛рж░рзНрж╕ржи рж░рж┐рж▓рж┐ржЬ"
```

ржПржЯрж┐ HEAD ржХржорж┐ржЯрзЗ `v1.0` ржирж╛ржорзЗрж░ ржПржХржЯрж┐ ржЯрзНржпрж╛ржЧ рждрзИрж░рж┐ ржХрж░ржмрзЗ ржПржмржВ ржмрж╛рж░рзНрждрж╛ ржпрзБржХрзНржд ржХрж░ржмрзЗред


### ЁЯзк ржЕржирзНржп ржПржХржЯрж┐ ржХржорж┐ржЯрзЗ Annotated Tag:

```bash
git tag -a v1.1 2d3acf -m "Bug fixed in version 1.1"
```

ржПржЦрж╛ржирзЗ `2d3acf` рж╣рж▓рзЛ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХржорж┐ржЯрзЗрж░ рж╣рзНржпрж╛рж╢ред


### ЁЯФН ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржжрзЗржЦрждрзЗ:

```bash
git show v1.0
```

ржЖржЙржЯржкрзБржЯрзЗ ржЖржкржирж┐ ржкрж╛ржмрзЗржи:

* ржмрж╛рж░рзНрждрж╛
* рж╕ржорзЯ
* рж▓рзЗржЦржХрзЗрж░ ржирж╛ржо ржУ ржЗржорзЗржЗрж▓
* рж╕ржВрж╢рзНрж▓рж┐рж╖рзНржЯ ржХржорж┐ржЯ


### ЁЯФР GPG рж╕рж╛ржЗржи рж╕рж╣ Annotated Tag:

```bash
git tag -s v2.0 -m "Signed release of version 2.0"
```

ржПржЯрж┐ ржПржХржЯрж┐ ржирж┐рж░рж╛ржкржж, рж╕рзНржмрж╛ржХрзНрж╖рж░ржпрзБржХрзНржд ржЯрзНржпрж╛ржЧ рждрзИрж░рж┐ ржХрж░рзЗ, GPG ржжрж┐рзЯрзЗред


## ЁЯУМ 2. Lightweight Tag (рж▓рж╛ржЗржЯржУрзЯрзЗржЯ ржЯрзНржпрж╛ржЧ)

### ЁЯз╛ рж╕ржВржЬрзНржЮрж╛:

ржПржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ **ржирж╛ржоржХрж░ржг ржХрж░рж╛ рж░рзЗржлрж╛рж░рзЗржирзНрж╕**ред ржПржЦрж╛ржирзЗ ржХрзЛржи ржмрж╛рж░рзНрждрж╛, рж╕ржорзЯ, ржмрж╛ рж▓рзЗржЦржХрзЗрж░ рждржерзНржп ржерж╛ржХрзЗ ржирж╛ред ржПржЯрж┐ `git branch`-ржПрж░ ржорждрзЛ ржПржХ ржзрж░ржирзЗрж░ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржорж╛рждрзНрж░ред


### ЁЯФз рждрзИрж░рж┐рж░ ржХржорж╛ржирзНржб:

```bash
git tag <tag-name>
```

### тЬЕ ржЙржжрж╛рж╣рж░ржг:

```bash
git tag v1.0-beta
```

ржПржЯрж┐ ржмрж░рзНрждржорж╛ржи ржХржорж┐ржЯрзЗ `v1.0-beta` ржирж╛ржорзЗрж░ рж▓рж╛ржЗржЯржУрзЯрзЗржЯ ржЯрзНржпрж╛ржЧ рждрзИрж░рж┐ ржХрж░ржмрзЗред


### ЁЯФН ржжрзЗржЦрждрзЗ:

```bash
git show v1.0-beta
```

ржПржЦрж╛ржирзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ рж╕рзЗржЗ ржХржорж┐ржЯрзЗрж░ рждржерзНржп ржжрзЗржЦрж╛ржмрзЗ, ржмрж╛рж░рзНрждрж╛ ржмрж╛ рж╕ржорзЯ ржирзЯред


### ЁЯОп ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХржорж┐ржЯрзЗ Lightweight Tag:

```bash
git tag v0.9 2d3acf
```


## ЁЯФБ ржкрж╛рж░рзНржержХрзНржпрж╕рзВржЪржХ ржЯрзЗржмрж┐рж▓:

| ржмрж┐рж╖рзЯ             | Annotated Tag          | Lightweight Tag              |
| ---------------- | ---------------------- | ---------------------------- |
| ржмрж╛рж░рзНрждрж╛ (Message) | тЬЕ ржерж╛ржХрзЗ                 | тЭМ ржерж╛ржХрзЗ ржирж╛                    |
| рж▓рзЗржЦржХрзЗрж░ ржирж╛ржо       | тЬЕ ржерж╛ржХрзЗ                 | тЭМ ржерж╛ржХрзЗ ржирж╛                    |
| рж╕ржорзЯ              | тЬЕ рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХрзЗ        | тЭМ ржерж╛ржХрзЗ ржирж╛                    |
| ржирж┐рж░рж╛ржкрждрзНрждрж╛ (GPG)  | тЬЕ GPG рж╕рж╛ржЗржи ржХрж░рж╛ ржпрж╛рзЯ     | тЭМ рж╕рж╛ржЗржи ржХрж░рж╛ ржпрж╛рзЯ ржирж╛            |
| ржмрзНржпржмрж╣рж╛рж░          | ржкрзНрж░рзЛржбрж╛ржХрж╢ржи/рж░рж┐рж▓рж┐ржЬ ржЯрзНржпрж╛ржЧрзЗ | ржжрзНрж░рзБржд ржЯрзНржпрж╛ржЧ ржХрж░рждрзЗ, рж╕рж╛ржорзЯрж┐ржХржнрж╛ржмрзЗ |
| ржХржорж╛ржирзНржб           | `git tag -a` ржЕржержмрж╛ `-s` | `git tag`                    |


## ЁЯФА ржХржЦржи ржХрзЛржиржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?

| ржкрж░рж┐рж╕рзНржерж┐рждрж┐                 | ржЖржкржирж┐ ржпрж╛ ржХрж░ржмрзЗржи                                                         |
| ------------------------- | --------------------------------------------------------------------- |
| ржХрзЛржирзЛ ржнрж╛рж░рзНрж╕ржи рж░рж┐рж▓рж┐ржЬ         | Annotated tag ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи, ржХрж╛рж░ржг ржПрждрзЗ ржмрж╛рж░рзНрждрж╛, рж╕ржорзЯ, рж▓рзЗржЦржХ рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХржмрзЗ |
| ржжрзНрж░рзБржд ржкрж░рзАржХрзНрж╖рж╛рж░ ржЬржирзНржп ржЯрзНржпрж╛ржЧ | Lightweight tag ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи                                    |
| GPG рж╕рж╛ржЗржи ржжрж░ржХрж╛рж░            | Annotated tag ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи                                            |


## ЁЯз╝ ржЯрзНржпрж╛ржЧ ржорзБржЫрзЗ ржлрзЗрж▓рж╛

### рж▓рзЛржХрж╛рж▓ ржЯрзНржпрж╛ржЧ ржорзБржЫрждрзЗ:

```bash
git tag -d v1.0
```

### рж░рж┐ржорзЛржЯ ржерзЗржХрзЗ ржорзБржЫрждрзЗ:

```bash
git push origin --delete v1.0
```

## ЁЯМР рж░рж┐ржорзЛржЯрзЗ ржЯрзНржпрж╛ржЧ ржкрзБрж╢ ржХрж░рж╛

### ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЯрзНржпрж╛ржЧ ржкрзБрж╢:

```bash
git push origin v1.0
```

### рж╕ржм ржЯрзНржпрж╛ржЧ ржкрзБрж╢:

```bash
git push origin --tags
```


## ЁЯзк ржХрж┐ржЫрзБ ржЕрждрж┐рж░рж┐ржХрзНржд ржЙржжрж╛рж╣рж░ржг

### ЁЯОп ржнрж╛рж░рзНрж╕ржи ржнрж┐рждрзНрждрж┐ржХ ржЯрзНржпрж╛ржЧ:

```bash
git tag -a v2.1 -m "Security patch release"
git push origin v2.1
```

### ЁЯЪА рж▓рж╛ржЗржЯржУрзЯрзЗржЯ ржЯрзНржпрж╛ржЧ ржжрж┐рзЯрзЗ ржкрж░рзАржХрзНрж╖рж╛ржорзВрж▓ржХ ржлрж┐ржЪрж╛рж░ ржЯрзНржпрж╛ржЧ ржХрж░рж╛:

```bash
git tag test-feature
```

### ЁЯФТ Signed Annotated ржЯрзНржпрж╛ржЧ ржжрж┐рзЯрзЗ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп рж░рж┐рж▓рж┐ржЬ:

```bash
git tag -s v3.0 -m "Stable secure release"
```

## тЬЕ ржЙржкрж╕ржВрж╣рж╛рж░

| ржЖржкржирж┐ ржпржжрж┐ ржЪрж╛ржи...                             | рждрж╛рж╣рж▓рзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи |
| ------------------------------------------- | ------------------ |
| ржПржХржЯрж┐ ржкрзВрж░рзНржгрж╛ржЩрзНржЧ ржЯрзНржпрж╛ржЧ (ржмрж╛рж░рзНрждрж╛, рж╕ржорзЯ, рж▓рзЗржЦржХ рж╕рж╣) | Annotated Tag      |
| ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг ржЯрзНржпрж╛ржЧ (ржжрзНрж░рзБржд, рж╕рж░рж▓)              | Lightweight Tag    |


ржЖржкржирж┐ ржпржжрж┐ ржПржХржЯрж┐ рж╕ржлржЯржУрзЯрзНржпрж╛рж░рзЗрж░ рж╕ржВрж╕рзНржХрж░ржг ржорзНржпрж╛ржирзЗржЬ ржХрж░рзЗржи (ржпрзЗржоржи `v1.0`, `v2.0`), рждрж╛рж╣рж▓рзЗ ржЕржмрж╢рзНржпржЗ **Annotated tag** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржЙржЪрж┐рждред
ржХрж┐ржирзНрждрзБ рж╢рзБржзрзБржорж╛рждрзНрж░ **рж╕рж╛ржорзЯрж┐ржХржнрж╛ржмрзЗ** ржмрж╛ **ржмрзНржпржХрзНрждрж┐ржЧрждржнрж╛ржмрзЗ** ржХрзЛржиржУ ржХржорж┐ржЯ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рж╛рж░ ржЬржирзНржп **Lightweight tag** ржпржерзЗрж╖рзНржЯред

