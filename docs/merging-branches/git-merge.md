# ЁЯМА Git - Merging Branches (ржмрзНрж░рж╛ржЮрзНржЪ ржорж╛рж░рзНржЬ ржХрж░рж╛)

Git-ржП ржПржХ ржмрж╛ ржПржХрж╛ржзрж┐ржХ ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ ржкрж░рж┐ржмрж░рзНрждржи ржЕржирзНржп ржПржХржЯрж┐ ржмрзНрж░рж╛ржЮрзНржЪрзЗ ржорж╛рж░рзНржЬ (merge) ржХрж░рж╛рж░ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ ржЦрзБржмржЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред ржорж╛рж░рзНржЬрзЗрж░ ржорж╛ржзрзНржпржорзЗ ржЖржкржирж┐ ржПржХрж╛ржзрж┐ржХ ржбрзЗржнрзЗрж▓ржкрж╛рж░ ржмрж╛ ржХрж╛ржЬрзЗрж░ ржмрзНрж░рж╛ржЮрзНржЪржЧрзБрж▓рж┐рж░ ржкрж░рж┐ржмрж░рзНрждржи ржПржХрждрзНрж░рж┐ржд ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

## ЁЯЪА ржорж╛рж░рзНржЬ ржХржорж╛ржирзНржбрзЗрж░ ржмрзЗрж╕рж┐ржХ

```bash
git merge branch-name
````

ржПржЯрж┐ **ржмрж░рзНрждржорж╛ржи ржмрзНрж░рж╛ржЮрзНржЪрзЗ** ржЙрж▓рзНрж▓рзЗржЦрж┐ржд ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ ржкрж░рж┐ржмрж░рзНрждржи ржорж╛рж░рзНржЬ ржХрж░ржмрзЗред

ЁЯФ╣ ржЙржжрж╛рж╣рж░ржг:

```bash
git merge feature/new-ui
```

ржПржЯрж┐ **main** ржмрзНрж░рж╛ржЮрзНржЪрзЗ `feature/new-ui` ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ ржкрж░рж┐ржмрж░рзНрждржи ржорж╛рж░рзНржЬ ржХрж░ржмрзЗред

## ЁЯза ржорж╛рж░рзНржЬрж┐ржВ ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?

1. Git ржмрж░рзНрждржорж╛ржи ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ рж╕рж╛ржерзЗ ржорж╛рж░рзНржЬ ржХрж░рждрзЗ ржЪрж╛ржУрзЯрж╛ ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ ржЗрждрж┐рж╣рж╛рж╕ рждрзБрж▓ржирж╛ ржХрж░рзЗред
2. ржпржжрж┐ ржХрзЛржирзЛ ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржирж╛ ржерж╛ржХрзЗ, Git рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ ржорж╛рж░рзНржЬ ржХрж░ржмрзЗред
3. ржпржжрж┐ ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржерж╛ржХрзЗ, Git ржЖржкржирж╛ржХрзЗ ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ рж░рзЗржЬрж▓ржн ржХрж░рждрзЗ ржмрж▓ржмрзЗред

## тЪб ржорж╛рж░рзНржЬ ржХржиржлрзНрж▓рж┐ржХрзНржЯ

ржорж╛рж░рзНржЬрзЗрж░ рж╕ржорзЯ ржпржжрж┐ ржПржХржЗ рж▓рж╛ржЗржирзЗ ржнрж┐ржирзНржи ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ рж╣рзЯрзЗ ржерж╛ржХрзЗ, рждржмрзЗ ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж╣рждрзЗ ржкрж╛рж░рзЗред ржХржиржлрзНрж▓рж┐ржХрзНржЯрзЗрж░ ржЙржжрж╛рж╣рж░ржг ржирж┐ржЪрзЗ ржжрзЗрзЯрж╛ рж╣рж▓рзЛ:

### ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржЙржжрж╛рж╣рж░ржг:

1. **feature/login** ржмрзНрж░рж╛ржЮрзНржЪрзЗ `login.js` ржлрж╛ржЗрж▓рзЗ ржХрж┐ржЫрзБ ржХрзЛржб ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯрзЗржЫрзЗред
2. **feature/signup** ржмрзНрж░рж╛ржЮрзНржЪрзЗ ржПржХржЗ ржлрж╛ржЗрж▓рзЗ ржЖрж▓рж╛ржжрж╛ ржХрж┐ржЫрзБ ржХрзЛржб ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯрзЗржЫрзЗред

ржПржЦржи, ржпржжрж┐ ржЖржкржирж┐ **main** ржмрзНрж░рж╛ржЮрзНржЪрзЗ ржПржЗ ржжрзБржЗржЯрж┐ ржмрзНрж░рж╛ржЮрзНржЪ ржорж╛рж░рзНржЬ ржХрж░рзЗржи, рждржмрзЗ Git ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржжрзЗржЦрждрзЗ ржкрж╛ржмрзЗ ржПржмржВ ржЖржкржирж╛ржХрзЗ ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж░рзЗржЬрж▓ржн ржХрж░рждрзЗ рж╣ржмрзЗред

## ЁЯУЬ ржорж╛рж░рзНржЬрзЗрж░ ржкрж░ ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж░рзЗржЬрж▓ржн ржХрж░рж╛рж░ ржкржжржХрзНрж╖рзЗржк:

### рзз. ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржлрж╛ржЗрж▓ ржЦрзБржБржЬрзБржи:

```bash
git status
```

ржПржЯрж┐ ржжрзЗржЦрж╛ржмрзЗ ржпрзЗ ржХрзЛржи ржлрж╛ржЗрж▓ржЧрзБрж▓рж┐рждрзЗ ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж░рзЯрзЗржЫрзЗред

### рзи. ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж╕ржорж╛ржзрж╛ржи ржХрж░рзБржи:

ржлрж╛ржЗрж▓ржЯрж┐ ржЦрзБрж▓рзЗ ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж╕рзЗржЧржорзЗржирзНржЯ ржЧрзБрж▓рж┐ ржжрзЗржЦрждрзЗ ржкрж╛ржмрзЗржиред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк:

```js
<<<<<<< HEAD
console.log("This is the main branch change");
=======
console.log("This is the feature branch change");
>>>>>>> feature/login
```

ржПржЦрж╛ржирзЗ ржЖржкржирж┐ рж╕ржарж┐ржХ ржХрзЛржб ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзЗ ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж░рзЗржЬрж▓ржн ржХрж░ржмрзЗржиред

### рзй. ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж╕ржорж╛ржзрж╛ржи ржХрж░рж╛рж░ ржкрж░:

```bash
git add conflicted-file.js
git commit
```

ржПржЯрж┐ ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж░рзЗржЬрж▓ржн рж╣ржУрзЯрж╛рж░ ржкрж░ ржПржХржЯрж┐ ржирждрзБржи ржХржорж┐ржЯ рждрзИрж░рж┐ ржХрж░ржмрзЗред

## ЁЯЪз Fast-Forward ржорж╛рж░рзНржЬ

ржХржЦржирзЛ ржХржЦржирзЛ, ржПржХржЯрж┐ ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ рж╕ржмржХрж┐ржЫрзБ рж╕рж░рж╛рж╕рж░рж┐ ржирждрзБржи ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ ржорждрзЛ ржерж╛ржХрзЗ ржПржмржВ ржХрзЛржиржУ ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржЫрж╛рзЬрж╛ржЗ ржорж╛рж░рзНржЬ ржХрж░рж╛ ржпрж╛рзЯред ржПржЯрж┐ржХрзЗ **fast-forward merge** ржмрж▓рж╛ рж╣рзЯред

ЁЯФ╣ ржЙржжрж╛рж╣рж░ржг:

ржзрж░рж╛ ржпрж╛ржХ, ржЖржкржирж┐ `main` ржмрзНрж░рж╛ржЮрзНржЪрзЗ ржЖржЫрзЗржи ржПржмржВ `feature/add-new-feature` ржмрзНрж░рж╛ржЮрзНржЪржЯрж┐ `main` ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржХрж╛ржЬ ржХрж░рзЗржЫрзЗред ржПржЗ ржХрзНрж╖рзЗрждрзНрж░рзЗ, ржЖржкржирж┐ ржпржЦржи `main` ржмрзНрж░рж╛ржЮрзНржЪрзЗ `feature/add-new-feature` ржорж╛рж░рзНржЬ ржХрж░ржмрзЗржи, рждржЦржи ржПржЯрж┐ ржПржХржЯрж┐ **fast-forward merge** рж╣ржмрзЗред

```bash
git checkout main
git merge feature/add-new-feature
```

ржПржЯрж┐ ржмрзНрж░рж╛ржЮрзНржЪрзЗ ржХрзЛржирзЛ ржорж╛рж░рзНржЬ ржХржорж┐ржЯ ржЫрж╛рзЬрж╛ржЗ рж╕рж░рж╛рж╕рж░рж┐ ржкрж░рж┐ржмрж░рзНрждржиржЧрзБрж▓рзЛ ржпрзБржХрзНржд ржХрж░ржмрзЗред

## ЁЯФД Rebase vs Merge

ржорж╛рж░рзНржЬ ржХрж░рж╛рж░ рж╕ржорзЯ ржЕрждрж┐рж░рж┐ржХрзНржд ржорж╛рж░рзНржЬ ржХржорж┐ржЯ рждрзИрж░рж┐ рж╣рждрзЗ ржкрж╛рж░рзЗ, ржпрж╛ ржЗрждрж┐рж╣рж╛рж╕ржХрзЗ ржХрж┐ржЫрзБржЯрж╛ ржмрж┐рж╢рзГржЩрзНржЦрж▓ ржХрж░рзЗ ржлрзЗрж▓рждрзЗ ржкрж╛рж░рзЗред ржПржХрзЗ ржПрзЬрж╛ржирзЛрж░ ржЬржирзНржп ржЖржкржирж┐ **rebase** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

### ржЙржжрж╛рж╣рж░ржг:

1. **ржорж╛рж░рзНржЬ ржХржорж╛ржирзНржб**:

```bash
git checkout main
git merge feature/add-new-feature
```

ржПржЯрж┐ ржПржХржЯрж┐ ржорж╛рж░рзНржЬ ржХржорж┐ржЯ рждрзИрж░рж┐ ржХрж░ржмрзЗред

2. **Rebase ржХржорж╛ржирзНржб**:

```bash
git checkout feature/add-new-feature
git rebase main
```

ржПржЯрж┐ ржЗрждрж┐рж╣рж╛рж╕рзЗрж░ ржоржзрзНржпрзЗ ржорж╛рж░рзНржЬ ржХржорж┐ржЯ рждрзИрж░рж┐ ржирж╛ ржХрж░рзЗ рж╕рж░рж╛рж╕рж░рж┐ ржЖржкржбрзЗржЯ ржХрж░ржмрзЗред

## ЁЯзСтАНЁЯТ╗ ржЙржжрж╛рж╣рж░ржг рзз: ржПржХржХ ржмрзНрж░рж╛ржЮрзНржЪ ржорж╛рж░рзНржЬ

```bash
git checkout main
git merge feature/landing-page
```

ржПржЯрж┐ `feature/landing-page` ржмрзНрж░рж╛ржЮрзНржЪржХрзЗ `main` ржмрзНрж░рж╛ржЮрзНржЪрзЗ ржорж╛рж░рзНржЬ ржХрж░ржмрзЗред

## ЁЯзСтАНЁЯТ╗ ржЙржжрж╛рж╣рж░ржг рзи: ржорж╛рж░рзНржЬрзЗрж░ ржкрж░рзЗ ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж╕ржорж╛ржзрж╛ржи

```bash
git checkout main
git merge feature/authentication
# ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж╣рзЯ
# ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржлрж╛ржЗрж▓ржЧрзБрж▓рж┐ ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ рж╕ржорж╛ржзрж╛ржи ржХрж░рзБржи
git add conflict-file.js
git commit
```

## ЁЯзСтАНЁЯТ╗ ржЙржжрж╛рж╣рж░ржг рзй: Fast-Forward ржорж╛рж░рзНржЬ

```bash
git checkout main
git merge feature/new-feature
```

ржПржЯрж┐ ржПржХржЯрж┐ **fast-forward** ржорж╛рж░рзНржЬ рж╣ржмрзЗ ржпржжрж┐ `feature/new-feature` ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ рж╕ржорж╕рзНржд ржкрж░рж┐ржмрж░рзНрждржи `main` ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ ржмрж░рзНрждржорж╛ржи ржЗрждрж┐рж╣рж╛рж╕рзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржерж╛ржХрзЗред

## ЁЯзСтАНЁЯТ╗ ржЙржжрж╛рж╣рж░ржг рзк: ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж░рзЗржЬрж▓ржн ржХрж░рж╛рж░ ржкрж░ ржирждрзБржи ржмрзНрж░рж╛ржЮрзНржЪрзЗ ржорж╛рж░рзНржЬ

```bash
git checkout main
git merge feature/old-bugfix
# ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржерж╛ржХрзЗ
# ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж░рзЗржЬрж▓ржн ржХрж░рж╛рж░ ржкрж░
git commit -m "Resolved conflicts and merged feature/old-bugfix"
```

## ЁЯТб ржЕрждрж┐рж░рж┐ржХрзНржд ржЯрж┐ржкрж╕:

* **ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж╕ржорж╛ржзрж╛ржирзЗрж░ рж╕ржорзЯ**:

  * Git ржХржиржлрзНрж▓рж┐ржХрзНржЯрзЗрж░ ржоржзрзНржпрзЗ `<<<<<<< HEAD` ржПржмржВ `=======` ржЪрж┐рж╣рзНржи ржжрзНржмрж╛рж░рж╛ ржжрзБржЯрж┐ рж╕ржВрж╕рзНржХрж░ржг ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗред
  * ржЖржкржирж╛рж░ ржХрж╛ржЬ рж╣ржЪрзНржЫрзЗ рж╕рзЗржЧрзБрж▓рзЛ рж╕ржарж┐ржХржнрж╛ржмрзЗ ржПржХрждрзНрж░рж┐ржд ржХрж░рж╛ред

* **`git merge --no-ff`**:

  * ржПржЗ ржЕржкрж╢ржиржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ Git ржкрзНрж░рждрж┐ржЯрж┐ ржорж╛рж░рзНржЬрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржирждрзБржи ржХржорж┐ржЯ рждрзИрж░рж┐ ржХрж░ржмрзЗ, ржПржоржиржХрж┐ ржпржжрж┐ ржорж╛рж░рзНржЬржЯрж┐ ржлрж╛рж╕рзНржЯ-ржлрж░ржУрзЯрж╛рж░рзНржб рж╣рзЯред

  ```bash
  git merge --no-ff feature/bugfix
  ```

* **`git merge --squash`**:

  * ржПржЯрж┐ рж╕ржмржЧрзБрж▓рзЛ ржкрж░рж┐ржмрж░рзНрждржи ржПржХрждрзНрж░рж┐ржд ржХрж░рзЗ ржПржХржЯрж┐ ржПржХржХ ржХржорж┐ржЯрзЗ ржорж╛рж░рзНржЬ ржХрж░ржмрзЗ, ржпрж╛рждрзЗ ржЗрждрж┐рж╣рж╛рж╕ ржкрж░рж┐рж╖рзНржХрж╛рж░ ржерж╛ржХрзЗред

  ```bash
  git merge --squash feature/new-feature
  git commit -m "Merged feature/new-feature with squash"
  ```

## тЬЕ ржнрж╛рж▓рзЛ ржЕржнрзНржпрж╛рж╕ (Best Practices)

* тЬЕ ржорж╛рж░рзНржЬрзЗрж░ ржЖржЧрзЗ ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ рж╕рж░рзНржмрж╢рзЗрж╖ ржЖржкржбрзЗржЯ ржЪрзЗржХ ржХрж░рзБржиред
* тЬЕ ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж░рзЗржЬрж▓ржн ржХрж░рж╛рж░ рж╕ржорзЯ ржкрж░рж┐ржмрж░рзНрждржиржЧрзБрж▓рж┐рж░ ржкрзБрж░рзЛржкрзБрж░рж┐ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рзБржиред
* тЬЕ ржорж╛рж░рзНржЬ ржХрж░рж╛рж░ ржЖржЧрзЗ ржЖржкржирж╛рж░ рж▓рзЛржХрж╛рж▓ ржмрзНрж░рж╛ржЮрзНржЪрзЗ ржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржЯрзЗрж╕рзНржЯ ржЪрж╛рж▓рж╛ржиред
* тЬЕ ржкрзНрж░рзЯрзЛржЬржирзЗ ржорж╛рж░рзНржЬ ржХржорж┐ржЯрзЗрж░ ржЬржирзНржп ржнрж╛рж▓рзЛ ржорзЗрж╕рзЗржЬ ржжрж┐ржи, ржпрзЗржоржи "Merged feature/login with bug fixes".

## ЁЯФР рж╕рждрж░рзНржХрждрж╛

* тЪая╕П ржорж╛рж░рзНржЬ ржХрж░рж╛рж░ ржкрж░ ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржерж╛ржХрж▓рзЗ рж╕рж╛ржмржзрж╛ржирзЗ рж░рзЗржЬрж▓ржн ржХрж░рзБржи, ржирж╛ рж╣рж▓рзЗ ржбрзЗржЯрж╛ рж╣рж╛рж░рж╛ржирзЛрж░ рж╕ржорзНржнрж╛ржмржирж╛ ржерж╛ржХрзЗред
* тЪая╕П `main` ржмрж╛ `master` ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ ржЙржкрж░ ржЕржкрзНрж░рждрзНржпрж╛рж╢рж┐ржд ржорж╛рж░рзНржЬ ржХрж░ржмрзЗржи ржирж╛ ржпржжрж┐ ржирж╛ ржЖржкржирж┐ ржирж┐рж╢рзНржЪрж┐ржд рж╣ржиред

