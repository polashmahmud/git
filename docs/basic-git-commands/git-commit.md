# тЬЕ `git commit` ржХржорж╛ржирзНржб 

`git commit` рж╣рж▓рзЛ Git-ржПрж░ рж╕ржмржЪрзЗрзЯрзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржХржорж╛ржирзНржбржЧрзБрж▓рзЛрж░ ржПржХржЯрж┐ред ржПржЯрж┐ ржорзВрж▓ржд **рж╕рзНржЯрзЗржЬ ржХрж░рж╛ ржкрж░рж┐ржмрж░рзНрждржиржЧрзБрж▓рзЛржХрзЗ (staged changes)** рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐рж░ ржЗрждрж┐рж╣рж╛рж╕рзЗ рж╕рзНржерж╛рзЯрзАржнрж╛ржмрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗред

## ЁЯза ржХрзА рж╣рзЯ `git commit` ржХрж░рж▓рзЗ?

- рж╕рзНржЯрзЗржЬ ржХрж░рж╛ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛрж░ ржПржХржЯрж┐ ржирждрзБржи **snapshot** рждрзИрж░рж┐ рж╣рзЯ
- рж╕рзЗржЗ snapshot-ржП ржПржХржЯрж┐ ржЗржЙржирж┐ржХ **SHA-1 hash** ржЖржЗржбрж┐ ржпрзБржХрзНржд рж╣рзЯ
- Git рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐рж░ ржЗрждрж┐рж╣рж╛рж╕рзЗ ржПржЯрж┐ ржПржХржЯрж┐ **ржХржорж┐ржЯ** рж╣рж┐рж╕рзЗржмрзЗ ржпрзБржХрзНржд рж╣рзЯ


## тЬЕ рж╕рж╛ржзрж╛рж░ржг ржмрзНржпржмрж╣рж╛рж░

### 1. ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг ржХржорж┐ржЯ

```bash
git commit -m "Initial commit"
````

ЁЯОп `-m` ржлрзНрж▓рзНржпрж╛ржЧ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХржЯрж┐ ржЫрзЛржЯ ржорзНржпрж╛рж╕рзЗржЬ ржжрж┐рзЯрзЗ ржХржорж┐ржЯ ржХрж░рж╛ рж╣рзЯред


## ЁЯЧГя╕П `git commit` ржХрж░рж╛рж░ ржЖржЧрзЗ ржХрж░ржгрзАрзЯ

```bash
git add file1.txt
git commit -m "Added file1.txt"
```

> тЬи ржоржирзЗ рж░рж╛ржЦржмрзЗржи: рж╢рзБржзрзБржорж╛рждрзНрж░ `git add` ржжрж┐рзЯрзЗ рж╕рзНржЯрзЗржЬ ржХрж░рж╛ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛрж░ржЗ ржХржорж┐ржЯ рж╣рзЯред


## тЬНя╕П ржнрж╛рж▓рзЛ ржХржорж┐ржЯ ржорзНржпрж╛рж╕рзЗржЬ рж▓рзЗржЦрж╛рж░ ржирж┐рзЯржо

### ржХржорж┐ржЯ ржорзНржпрж╛рж╕рзЗржЬ рж▓рзЗржЦрж╛:

```bash
git commit -m "type: рж╕ржВржХрзНрж╖рзЗржкрзЗ ржХрзА ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ

ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржмрж░рзНржгржирж╛ (ржРржЪрзНржЫрж┐ржХ)"
```

### ржЙржжрж╛рж╣рж░ржг:

```bash
git commit -m "feat: user registration added

User can now register using email and password. JWT token also implemented."
```

ЁЯОп `type` ржЕржВрж╢рзЗ ржЖржкржирж┐ ржпрзЗржоржи рж▓рж┐ржЦрждрзЗ ржкрж╛рж░рзЗржи:

* `feat`: ржирждрзБржи ржлрж┐ржЪрж╛рж░
* `fix`: ржмрж╛ржЧ ржлрж┐ржХрзНрж╕
* `refactor`: ржХрзЛржб рж░рж┐ржлрзНржпрж╛ржХрзНржЯрж░
* `docs`: ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи
* `style`: ржлрж░ржорзНржпрж╛ржЯрж┐ржВ рж╕ржВрж╢рзЛржзржи
* `test`: ржЯрзЗрж╕рзНржЯ ржпрзБржХрзНржд ржХрж░рж╛


## ЁЯУЭ ржЗржирзНржЯрж╛рж░тАНрзНржпрж╛ржХрзНржЯрж┐ржн ржХржорж┐ржЯ рж▓рж┐ржЦрж╛ (ржкржЫржирзНржжрзЗрж░ editor ржП)

```bash
git commit
```

ЁЯОп ржПржнрж╛ржмрзЗ ржжрж┐рж▓рзЗ Git ржЖржкржирж╛рж░ ржбрж┐ржлрж▓рзНржЯ editor (ржпрзЗржоржи `vim`, `nano`, ржмрж╛ `VS Code`) ржЦрзБрж▓ржмрзЗ, ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржорзНржпрж╛рж╕рзЗржЬ рж▓рж┐ржЦрждрзЗ ржкрж╛рж░ржмрзЗржиред


## ЁЯФБ рж╢рзБржзрзБ рж╕рзНржЯрзЗржЬ ржирж╛ ржХрж░рзЗ `commit` + `add`

```bash
git commit -am "Quick update on config files"
```

ЁЯОп рж╢рзБржзрзБржорж╛рждрзНрж░ **ржЖржЧрзЗ ржерзЗржХрзЗ ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рж╛ ржлрж╛ржЗрж▓** ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж▓рзЗ `-am` ржлрзНрж▓рзНржпрж╛ржЧ ржХрж╛ржЬ ржХрж░рзЗред ржирждрзБржи ржлрж╛ржЗрж▓рзЗрж░ ржЬржирзНржп `git add` ржжрж░ржХрж╛рж░ред


## ЁЯзк ржХрж┐ржЫрзБ ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг

### рзз. ржирждрзБржи ржлрж┐ржЪрж╛рж░ ржХржорж┐ржЯ:

```bash
git add register.php
git commit -m "feat: implement user registration"
```
ЁЯОп ржПржЦрж╛ржирзЗ `register.php` ржлрж╛ржЗрж▓ржЯрж┐ ржирждрзБржи ржлрж┐ржЪрж╛рж░ ржпрзБржХрзНржд ржХрж░рзЗржЫрзЗред

### рзи. ржмрж╛ржЧ ржлрж┐ржХрзНрж╕ ржХржорж┐ржЯ:

```bash
git add validation.js
git commit -m "fix: email validation not working"
```
ЁЯОп ржПржЦрж╛ржирзЗ `validation.js` ржлрж╛ржЗрж▓ржЯрж┐ ржПржХржЯрж┐ ржмрж╛ржЧ ржлрж┐ржХрзНрж╕ ржХрж░рзЗржЫрзЗред


### рзй. ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи рж╕ржВрж╢рзЛржзржи:

```bash
git add README.md
git commit -m "docs: update installation guide"
```
ЁЯОп ржПржЦрж╛ржирзЗ `README.md` ржлрж╛ржЗрж▓ржЯрж┐ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи рж╕ржВрж╢рзЛржзржи ржХрж░рзЗржЫрзЗред


### рзк. ржПржХрж╛ржзрж┐ржХ ржлрж╛ржЗрж▓ ржПржХрж╕рж╛ржерзЗ:

```bash
git add .
git commit -m "style: fix code formatting in utils and helpers"
```
ЁЯОп ржПржЦрж╛ржирзЗ `.` ржжрж┐рзЯрзЗ рж╕ржм ржкрж░рж┐ржмрж░рзНрждрж┐ржд ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛржХрзЗ ржПржХрж╕рж╛ржерзЗ ржХржорж┐ржЯ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред


### рзл. рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ рж▓рж╛ржЗржи ржмржжрж▓рзЗ ржХржорж┐ржЯ:

```bash
git add -p
# рждрж╛рж░ржкрж░ ржЗржиржЯрзНрж░рж╛ржХржЯрж┐ржнрж▓рж┐ ржХрзЛржи ржкрж░рж┐ржмрж░рзНрждржи рж░рж╛ржЦрждрзЗ ржЪрж╛ржи рж╕рзЗржЯрж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи
git commit -m "fix: minor typo in header"
```
ЁЯОп `-p` ржлрзНрж▓рзНржпрж╛ржЧ ржжрж┐рзЯрзЗ ржЖржкржирж┐ ржЗржирзНржЯрж╛рж░тАНрзНржпрж╛ржХржЯрж┐ржнрж▓рж┐ ржкрж░рж┐ржмрж░рзНрждржиржЧрзБрж▓рзЛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред


## ЁЯФЩ рж╢рзЗрж╖ ржХржорж┐ржЯ ржорзЗрж╕рзЗржЬ ржПржбрж┐ржЯ ржХрж░рж╛

```bash
git commit --amend
```

ЁЯОп ржПржЯрж┐ ржЖржЧрзЗрж░ ржХржорж┐ржЯржЯрж┐ рж░рж┐ржкрзНрж▓рзЗрж╕ ржХрж░ржмрзЗред ржЖржкржирж┐ ржорзНржпрж╛рж╕рзЗржЬ ржкрж░рж┐ржмрж░рзНрждржи ржмрж╛ ржирждрзБржи ржлрж╛ржЗрж▓ ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред


## тЫФ ржХржорж┐ржЯ ржмрж╛рждрж┐рж▓ ржХрж░рж╛ (reset)

### рж╢рзЗрж╖ ржХржорж┐ржЯ ржмрж╛рждрж┐рж▓ ржХрж░рзЗ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛ unstaged ржХрж░рж╛:

```bash
git reset --soft HEAD~1
```
ЁЯОп ржПржЯрж┐ рж╢рзЗрж╖ ржХржорж┐ржЯржЯрж┐ ржмрж╛рждрж┐рж▓ ржХрж░ржмрзЗ ржХрж┐ржирзНрждрзБ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛржХрзЗ рж╕рзНржЯрзЗржЬржб ржЕржмрж╕рзНржерж╛рзЯ рж░рж╛ржЦржмрзЗред

### рж╢рзЗрж╖ ржХржорж┐ржЯ ржУ рж╕рзНржЯрзЗржЬрж┐ржВржУ ржорзБржЫрзЗ ржлрзЗрж▓рж╛:

```bash
git reset --mixed HEAD~1
```
ЁЯОп ржПржЯрж┐ рж╢рзЗрж╖ ржХржорж┐ржЯржЯрж┐ ржмрж╛рждрж┐рж▓ ржХрж░ржмрзЗ ржПржмржВ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛржХрзЗ unstaged ржЕржмрж╕рзНржерж╛рзЯ рж░рж╛ржЦржмрзЗред


## ЁЯФН рж▓ржЧ ржжрзЗржЦрж╛ (ржХржорж┐ржЯ ржЗрждрж┐рж╣рж╛рж╕)

```bash
git log
```

ЁЯОп рж╕ржм ржХржорж┐ржЯ ржУ рждрж╛ржжрзЗрж░ ржорзНржпрж╛рж╕рзЗржЬ ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗржиред


## ЁЯз╛ ржнрж╛рж▓рзЛ ржХржорж┐ржЯ ржорзНржпрж╛рж╕рзЗржЬ рж▓рж┐ржЦрж╛рж░ ржирж┐рзЯржо

* ржкрзНрж░ржержо рж▓рж╛ржЗржи 50 ржХрзНржпрж╛рж░рзЗржХрзНржЯрж╛рж░рзЗрж░ ржоржзрзНржпрзЗ рж░рж╛ржЦрзБржи
* рж╕ржВржХрзНрж╖рзЗржкрзЗ ржХрзА ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ рж▓рж┐ржЦрзБржи
* ржкрзНрж░рзЯрзЛржЬржирзЗ ржжрзНржмрж┐рждрзАрзЯ рж▓рж╛ржЗржирзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржмрзНржпрж╛ржЦрзНржпрж╛ ржжрж┐ржи
* present tense ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи (e.g. "Add", "Fix", "Update")


## ЁЯЫая╕П `git commit` рж╕ржВржХрзНрж╖рзЗржкрзЗ

| ржХржорж╛ржирзНржб                     | ржмрзНржпрж╛ржЦрзНржпрж╛                                          |
| -------------------------- | ------------------------------------------------- |
| `git commit -m "message"`  | ржХржорж┐ржЯ ржорзНржпрж╛рж╕рзЗржЬ рж╕рж╣ ржХржорж┐ржЯ                              |
| `git commit -am "message"` | ржЖржЧрзЗрж░ ржЯрзНрж░рзНржпрж╛ржХ рж╣ржУрзЯрж╛ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛрж░ ржкрж░рж┐ржмрж░рзНрждржи add + commit |
| `git commit`               | ржбрж┐ржлрж▓рзНржЯ editor ржП ржорзНржпрж╛рж╕рзЗржЬ рж▓рзЗржЦрж╛рж░ рж╕рзБржпрзЛржЧ               |
| `git commit --amend`       | рж╢рзЗрж╖ ржХржорж┐ржЯ ржПржбрж┐ржЯ ржХрж░рж╛                                 |
| `git log`                  | ржХржорж┐ржЯ ржЗрждрж┐рж╣рж╛рж╕ ржжрзЗржЦрж╛                                  |


## ЁЯОп рж╢рзЗрж╖ ржХржерж╛

`git commit` рж╢рзБржзрзБржорж╛рждрзНрж░ ржХрзЛржб рж╕рзЗржн ржХрж░рж╛рж░ ржПржХржЯрж╛ ржЙржкрж╛рзЯ ржирзЯ, ржПржЯрж┐ ржЖржкржирж╛рж░ ржкрзНрж░ржХрж▓рзНржкрзЗрж░ ржЗрждрж┐рж╣рж╛рж╕ рждрзИрж░рж┐рж░ ржЕржирзНржпрждржо рж╣рж╛рждрж┐рзЯрж╛рж░ред ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржХржорж┐ржЯ ржХрж░рж╛рж░ ржЕржнрзНржпрж╛рж╕ ржЖржкржирж╛ржХрзЗ ржПржмржВ ржЖржкржирж╛рж░ ржЯрж┐ржорзЗрж░ рж╕ржмрж╛ржЗржХрзЗ рж╕рж╣ржЬрзЗ ржХрж╛ржЬ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржмрзЗред
